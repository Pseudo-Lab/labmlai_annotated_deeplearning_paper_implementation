{
 "<h1>Denoising Diffusion Implicit Models (DDIM) Sampling</h1>\n<p>This implements DDIM sampling from the paper <a href=\"https://papers.labml.ai/paper/2010.02502\">Denoising Diffusion Implicit Models</a></p>\n": "<h1>\u964d\u566a\u6269\u6563\u9690\u542b\u6a21\u578b (DDIM) \u91c7\u6837</h1>\n<p>\u8fd9\u5b9e\u73b0\u4e86\u6765\u81ea\u8bba\u6587 \u201c<a href=\"https://papers.labml.ai/paper/2010.02502\">\u964d\u566a\u6269\u6563\u9690\u5f0f\u6a21\u578b</a>\u201d \u7684 DDIM \u91c7\u6837</p>\n",
 "<h2>DDIM Sampler</h2>\n<p>This extends the <a href=\"index.html\"><span translate=no>_^_0_^_</span> base class</a>.</p>\n<p>DDPM samples images by repeatedly removing noise by sampling step by step using,</p>\n<span translate=no>_^_1_^_</span><p>where <span translate=no>_^_2_^_</span> is random noise, <span translate=no>_^_3_^_</span> is a subsequence of <span translate=no>_^_4_^_</span> of length <span translate=no>_^_5_^_</span>, and <span translate=no>_^_6_^_</span></p>\n<p>Note that, <span translate=no>_^_7_^_</span> in DDIM paper refers to <span translate=no>_^_8_^_</span> from <a href=\"ddpm.html\">DDPM</a>.</p>\n": "<h2>DDIM \u91c7\u6837\u5668</h2>\n<p>\u8fd9\u6269\u5c55\u4e86<a href=\"index.html\"><span translate=no>_^_0_^_</span>\u57fa\u7c7b</a>\u3002</p>\n<p>DDPM \u901a\u8fc7\u9010\u6b65\u91c7\u6837\u6765\u53cd\u590d\u6d88\u9664\u566a\u70b9\u6765\u5bf9\u56fe\u50cf\u8fdb\u884c\u91c7\u6837\uff0c</p>\n<span translate=no>_^_1_^_</span><p>\u5176\u4e2d<span translate=no>_^_2_^_</span>\uff0c\u662f\u968f\u673a\u566a\u58f0\uff0c<span translate=no>_^_3_^_</span>\u662f\u957f\u5ea6\u4e3a<span translate=no>_^_4_^_</span>\u7684\u5b50\u5e8f\u5217<span translate=no>_^_5_^_</span>\uff0c<span translate=no>_^_6_^_</span></p>\n<p>\u8bf7\u6ce8\u610f\uff0c<span translate=no>_^_7_^_</span>\u5728 DDIM \u8bba\u6587\u4e2d\uff0c\u6307\u7684\u662f\u6765<span translate=no>_^_8_^_</span>\u81ea <a href=\"ddpm.html\">DDPM</a> \u7684\u8bba\u6587\u3002</p>\n",
 "<h3>Painting Loop</h3>\n<ul><li><span translate=no>_^_0_^_</span>  is <span translate=no>_^_1_^_</span> of shape <span translate=no>_^_2_^_</span> </li>\n<li><span translate=no>_^_3_^_</span>  is the conditional embeddings <span translate=no>_^_4_^_</span> </li>\n<li><span translate=no>_^_5_^_</span>  is the sampling step to start from, <span translate=no>_^_6_^_</span> </li>\n<li><span translate=no>_^_7_^_</span>  is the original image in latent page which we are in paining.  If this is not provided, it&#x27;ll be an image to image transformation. </li>\n<li><span translate=no>_^_8_^_</span>  is the mask to keep the original image. </li>\n<li><span translate=no>_^_9_^_</span>  is fixed noise to be added to the original image. </li>\n<li><span translate=no>_^_10_^_</span>  is the unconditional guidance scale <span translate=no>_^_11_^_</span>. This is used for  <span translate=no>_^_12_^_</span> </li>\n<li><span translate=no>_^_13_^_</span>  is the conditional embedding for empty prompt <span translate=no>_^_14_^_</span></li></ul>\n": "<h3>\u7ed8\u753b\u5faa\u73af</h3>\n<ul><li><span translate=no>_^_0_^_</span>\u662f\u5f62<span translate=no>_^_1_^_</span>\u72b6\u7684<span translate=no>_^_2_^_</span></li>\n<li><span translate=no>_^_3_^_</span>\u662f\u6761\u4ef6\u5d4c\u5165<span translate=no>_^_4_^_</span></li>\n<li><span translate=no>_^_5_^_</span>\u662f\u5f00\u59cb\u65f6\u7684\u91c7\u6837\u6b65\u9aa4\uff0c<span translate=no>_^_6_^_</span></li>\n<li><span translate=no>_^_7_^_</span>\u662f\u6211\u4eec\u6b63\u5728\u7ed8\u5236\u7684\u6f5c\u5728\u9875\u9762\u4e2d\u7684\u539f\u59cb\u56fe\u50cf\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0c\u5219\u5c06\u662f\u56fe\u50cf\u5230\u56fe\u50cf\u7684\u8f6c\u6362\u3002</li>\n<li><span translate=no>_^_8_^_</span>\u662f\u4fdd\u7559\u539f\u59cb\u56fe\u50cf\u7684\u63a9\u7801\u3002</li>\n<li><span translate=no>_^_9_^_</span>\u662f\u8981\u6dfb\u52a0\u5230\u539f\u59cb\u56fe\u50cf\u7684\u56fa\u5b9a\u566a\u70b9\u3002</li>\n<li><span translate=no>_^_10_^_</span>\u662f\u65e0\u6761\u4ef6\u6307\u5bfc\u91cf\u8868<span translate=no>_^_11_^_</span>\u3002\u8fd9\u7528\u4e8e<span translate=no>_^_12_^_</span></li>\n<li><span translate=no>_^_13_^_</span>\u662f\u7a7a\u63d0\u793a\u7684\u6761\u4ef6\u5d4c\u5165<span translate=no>_^_14_^_</span></li></ul>\n",
 "<h3>Sample <span translate=no>_^_0_^_</span> given <span translate=no>_^_1_^_</span></h3>\n": "<h3><span translate=no>_^_0_^_</span>\u7ed9\u51fa\u7684\u6837\u672c<span translate=no>_^_1_^_</span></h3>\n",
 "<h3>Sample <span translate=no>_^_0_^_</span></h3>\n<ul><li><span translate=no>_^_1_^_</span>  is <span translate=no>_^_2_^_</span> of shape <span translate=no>_^_3_^_</span> </li>\n<li><span translate=no>_^_4_^_</span>  is the conditional embeddings <span translate=no>_^_5_^_</span> of shape <span translate=no>_^_6_^_</span> </li>\n<li><span translate=no>_^_7_^_</span>  is <span translate=no>_^_8_^_</span> of shape <span translate=no>_^_9_^_</span> </li>\n<li><span translate=no>_^_10_^_</span>  is the step <span translate=no>_^_11_^_</span> as an integer </li>\n<li><span translate=no>_^_12_^_</span>  is index <span translate=no>_^_13_^_</span> in the list <span translate=no>_^_14_^_</span> </li>\n<li><span translate=no>_^_15_^_</span>  specified whether the noise should be same for all samples in the batch </li>\n<li><span translate=no>_^_16_^_</span>  is the noise temperature (random noise gets multiplied by this) </li>\n<li><span translate=no>_^_17_^_</span>  is the unconditional guidance scale <span translate=no>_^_18_^_</span>. This is used for  <span translate=no>_^_19_^_</span> </li>\n<li><span translate=no>_^_20_^_</span>  is the conditional embedding for empty prompt <span translate=no>_^_21_^_</span></li></ul>\n": "<h3>\u793a\u4f8b<span translate=no>_^_0_^_</span></h3>\n<ul><li><span translate=no>_^_1_^_</span>\u662f\u5f62<span translate=no>_^_2_^_</span>\u72b6\u7684<span translate=no>_^_3_^_</span></li>\n<li><span translate=no>_^_4_^_</span>\u662f\u5f62\u72b6<span translate=no>_^_5_^_</span>\u7684\u6761\u4ef6\u5d4c\u5165<span translate=no>_^_6_^_</span></li>\n<li><span translate=no>_^_7_^_</span>\u662f\u5f62<span translate=no>_^_8_^_</span>\u72b6\u7684<span translate=no>_^_9_^_</span></li>\n<li><span translate=no>_^_10_^_</span>\u662f\u6574\u6570<span translate=no>_^_11_^_</span>\u5f62\u5f0f\u7684\u6b65\u957f</li>\n<li><span translate=no>_^_12_^_</span>\u662f\u5217\u8868<span translate=no>_^_13_^_</span>\u4e2d\u7684\u7d22\u5f15<span translate=no>_^_14_^_</span></li>\n<li><span translate=no>_^_15_^_</span>\u6307\u5b9a\u6279\u6b21\u4e2d\u6240\u6709\u6837\u672c\u7684\u566a\u58f0\u662f\u5426\u5e94\u76f8\u540c</li>\n<li><span translate=no>_^_16_^_</span>\u662f\u566a\u58f0\u6e29\u5ea6\uff08\u968f\u673a\u566a\u58f0\u4e58\u4ee5\u6b64\u503c\uff09</li>\n<li><span translate=no>_^_17_^_</span>\u662f\u65e0\u6761\u4ef6\u6307\u5bfc\u91cf\u8868<span translate=no>_^_18_^_</span>\u3002\u8fd9\u7528\u4e8e<span translate=no>_^_19_^_</span></li>\n<li><span translate=no>_^_20_^_</span>\u662f\u7a7a\u63d0\u793a\u7684\u6761\u4ef6\u5d4c\u5165<span translate=no>_^_21_^_</span></li></ul>\n",
 "<h3>Sample from <span translate=no>_^_0_^_</span></h3>\n<p><span translate=no>_^_1_^_</span></p>\n<ul><li><span translate=no>_^_2_^_</span>  is <span translate=no>_^_3_^_</span> of shape <span translate=no>_^_4_^_</span> </li>\n<li><span translate=no>_^_5_^_</span>  is the time step <span translate=no>_^_6_^_</span> index <span translate=no>_^_7_^_</span> </li>\n<li><span translate=no>_^_8_^_</span>  is the noise, <span translate=no>_^_9_^_</span></li></ul>\n": "<h3>\u6837\u672c\u6765\u81ea<span translate=no>_^_0_^_</span></h3>\n<p><span translate=no>_^_1_^_</span></p>\n<ul><li><span translate=no>_^_2_^_</span>\u662f\u5f62<span translate=no>_^_3_^_</span>\u72b6\u7684<span translate=no>_^_4_^_</span></li>\n<li><span translate=no>_^_5_^_</span>\u662f\u65f6\u95f4\u6b65\u957f<span translate=no>_^_6_^_</span>\u6307\u6570<span translate=no>_^_7_^_</span></li>\n<li><span translate=no>_^_8_^_</span>\u662f\u566a\u97f3\uff0c<span translate=no>_^_9_^_</span></li></ul>\n",
 "<h3>Sampling Loop</h3>\n<ul><li><span translate=no>_^_0_^_</span>  is the shape of the generated images in the  form <span translate=no>_^_1_^_</span> </li>\n<li><span translate=no>_^_2_^_</span>  is the conditional embeddings <span translate=no>_^_3_^_</span> </li>\n<li><span translate=no>_^_4_^_</span>  is the noise temperature (random noise gets multiplied by this) </li>\n<li><span translate=no>_^_5_^_</span>  is <span translate=no>_^_6_^_</span>. If not provided random noise will be used. </li>\n<li><span translate=no>_^_7_^_</span>  is the unconditional guidance scale <span translate=no>_^_8_^_</span>. This is used for  <span translate=no>_^_9_^_</span> </li>\n<li><span translate=no>_^_10_^_</span>  is the conditional embedding for empty prompt <span translate=no>_^_11_^_</span> </li>\n<li><span translate=no>_^_12_^_</span>  is the number of time steps to skip <span translate=no>_^_13_^_</span>. We start sampling from <span translate=no>_^_14_^_</span>.  And <span translate=no>_^_15_^_</span> is then <span translate=no>_^_16_^_</span>.</li></ul>\n": "<h3>\u91c7\u6837\u56de\u8def</h3>\n<ul><li><span translate=no>_^_0_^_</span>\u662f\u8868\u5355\u4e2d\u751f\u6210\u7684\u56fe\u50cf\u7684\u5f62\u72b6<span translate=no>_^_1_^_</span></li>\n<li><span translate=no>_^_2_^_</span>\u662f\u6761\u4ef6\u5d4c\u5165<span translate=no>_^_3_^_</span></li>\n<li><span translate=no>_^_4_^_</span>\u662f\u566a\u58f0\u6e29\u5ea6\uff08\u968f\u673a\u566a\u58f0\u4e58\u4ee5\u6b64\u503c\uff09</li>\n<li><span translate=no>_^_5_^_</span>\u662f<span translate=no>_^_6_^_</span>\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0c\u5c06\u4f7f\u7528\u968f\u673a\u566a\u58f0\u3002</li>\n<li><span translate=no>_^_7_^_</span>\u662f\u65e0\u6761\u4ef6\u6307\u5bfc\u91cf\u8868<span translate=no>_^_8_^_</span>\u3002\u8fd9\u7528\u4e8e<span translate=no>_^_9_^_</span></li>\n<li><span translate=no>_^_10_^_</span>\u662f\u7a7a\u63d0\u793a\u7684\u6761\u4ef6\u5d4c\u5165<span translate=no>_^_11_^_</span></li>\n<li><span translate=no>_^_12_^_</span>\u662f\u8981\u8df3\u8fc7\u7684\u65f6\u95f4\u6b65\u6570<span translate=no>_^_13_^_</span>\u3002\u6211\u4eec\u4ece\u5f00\u59cb\u91c7\u6837<span translate=no>_^_14_^_</span>\u3002\u7136\u540e<span translate=no>_^_15_^_</span>\u5c31\u662f\u8fd9\u6837<span translate=no>_^_16_^_</span>\u3002</li></ul>\n",
 "<p> </p>\n": "<p></p>\n",
 "<p><span translate=no>_^_0_^_</span> </p>\n": "<p><span translate=no>_^_0_^_</span></p>\n",
 "<p>Calculate <span translate=no>_^_0_^_</span> and predicted <span translate=no>_^_1_^_</span> </p>\n": "<p>\u8ba1\u7b97<span translate=no>_^_0_^_</span>\u548c\u9884\u6d4b<span translate=no>_^_1_^_</span></p>\n",
 "<p>Calculate <span translate=no>_^_0_^_</span> to be quadratically distributed across <span translate=no>_^_1_^_</span> </p>\n": "<p>\u8ba1\u7b97<span translate=no>_^_0_^_</span>\u4ee5\u4e8c\u6b21\u5206\u5e03<span translate=no>_^_1_^_</span></p>\n",
 "<p>Calculate <span translate=no>_^_0_^_</span> to be uniformly distributed across <span translate=no>_^_1_^_</span> </p>\n": "<p>\u8ba1\u7b97<span translate=no>_^_0_^_</span>\u5f97\u5747\u5300\u5206\u5e03\u5728\u5404\u5904<span translate=no>_^_1_^_</span></p>\n",
 "<p>Current prediction for <span translate=no>_^_0_^_</span>, <span translate=no>_^_1_^_</span> </p>\n": "<p>\u76ee\u524d\u7684\u9884\u6d4b<span translate=no>_^_0_^_</span>\uff0c<span translate=no>_^_1_^_</span></p>\n",
 "<p>Different noise for each sample </p>\n": "<p>\u6bcf\u4e2a\u6837\u672c\u7684\u566a\u58f0\u4e0d\u540c</p>\n",
 "<p>Direction pointing to <span translate=no>_^_0_^_</span> <span translate=no>_^_1_^_</span> </p>\n": "<p>\u6307\u5411\u7684\u65b9\u5411<span translate=no>_^_0_^_</span><span translate=no>_^_1_^_</span></p>\n",
 "<p>Get <span translate=no>_^_0_^_</span> </p>\n": "<p>\u83b7\u53d6<span translate=no>_^_0_^_</span></p>\n",
 "<p>Get batch size </p>\n": "<p>\u83b7\u53d6\u6279\u6b21\u5927\u5c0f</p>\n",
 "<p>Get device and batch size </p>\n": "<p>\u83b7\u53d6\u8bbe\u5907\u548c\u6279\u6b21\u5927\u5c0f</p>\n",
 "<p>Get the <span translate=no>_^_0_^_</span> for original image in latent space </p>\n": "<p>\u5728\u6f5c\u5728\u7a7a\u95f4\u4e2d<span translate=no>_^_0_^_</span>\u83b7\u53d6\u539f\u59cb\u56fe\u50cf</p>\n",
 "<p>If same noise is used for all samples in the batch </p>\n": "<p>\u5982\u679c\u6279\u6b21\u4e2d\u7684\u6240\u6709\u6837\u54c1\u90fd\u4f7f\u7528\u76f8\u540c\u7684\u566a\u58f0</p>\n",
 "<p>Index <span translate=no>_^_0_^_</span> in the list <span translate=no>_^_1_^_</span> </p>\n": "<p>\u5217\u8868<span translate=no>_^_0_^_</span>\u4e2d\u7684\u7d22\u5f15<span translate=no>_^_1_^_</span></p>\n",
 "<p>Multiply noise by the temperature </p>\n": "<p>\u5c06\u566a\u58f0\u4e58\u4ee5\u6e29\u5ea6</p>\n",
 "<p>No noise is added, when <span translate=no>_^_0_^_</span> </p>\n": "<p>\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u4e0d\u6dfb\u52a0\u4efb\u4f55\u566a\u97f3<span translate=no>_^_0_^_</span></p>\n",
 "<p>Number of steps, <span translate=no>_^_0_^_</span> </p>\n": "<p>\u6b65\u6570\uff0c<span translate=no>_^_0_^_</span></p>\n",
 "<p>Random noise, if noise is not specified </p>\n": "<p>\u5982\u679c\u672a\u6307\u5b9a\u566a\u58f0\uff0c\u5219\u4e3a\u968f\u673a\u566a\u58f0</p>\n",
 "<p>Replace the masked area </p>\n": "<p>\u66ff\u6362\u88ab\u5c4f\u853d\u7684\u533a\u57df</p>\n",
 "<p>Replace the masked area with original image </p>\n": "<p>\u5c06\u8499\u7248\u533a\u57df\u66ff\u6362\u4e3a\u539f\u59cb\u56fe\u50cf</p>\n",
 "<p>Return <span translate=no>_^_0_^_</span> </p>\n": "<p>\u8fd4\u56de<span translate=no>_^_0_^_</span></p>\n",
 "<p>Sample <span translate=no>_^_0_^_</span> </p>\n": "<p>\u793a\u4f8b<span translate=no>_^_0_^_</span></p>\n",
 "<p>Sample from  <span translate=no>_^_0_^_</span> </p>\n": "<p>\u6837\u672c\u6765\u81ea<span translate=no>_^_0_^_</span></p>\n",
 "<p>Time step <span translate=no>_^_0_^_</span> </p>\n": "<p>\u65f6\u95f4\u6b65\u957f<span translate=no>_^_0_^_</span></p>\n",
 "<p>Time steps to sample at <span translate=no>_^_0_^_</span> </p>\n": "<p>\u91c7\u6837\u7684\u65f6\u95f4\u6b65\u957f<span translate=no>_^_0_^_</span></p>\n",
 "<span translate=no>_^_0_^_</span><p> </p>\n": "<span translate=no>_^_0_^_</span><p></p>\n",
 "<ul><li><span translate=no>_^_0_^_</span>  is the model to predict noise <span translate=no>_^_1_^_</span> </li>\n<li><span translate=no>_^_2_^_</span>  is the number of DDIM sampling steps, <span translate=no>_^_3_^_</span> </li>\n<li><span translate=no>_^_4_^_</span>  specifies how to extract <span translate=no>_^_5_^_</span> from <span translate=no>_^_6_^_</span>.  It can be either <span translate=no>_^_7_^_</span> or <span translate=no>_^_8_^_</span>. </li>\n<li><span translate=no>_^_9_^_</span>  is <span translate=no>_^_10_^_</span> used to calculate <span translate=no>_^_11_^_</span>. <span translate=no>_^_12_^_</span> makes the  sampling process deterministic.</li></ul>\n": "<ul><li><span translate=no>_^_0_^_</span>\u662f\u9884\u6d4b\u566a\u58f0\u7684\u6a21\u578b<span translate=no>_^_1_^_</span></li>\n<li><span translate=no>_^_2_^_</span>\u662f DDIM \u91c7\u6837\u6b65\u9aa4\u7684\u6570\u91cf\uff0c<span translate=no>_^_3_^_</span></li>\n<li><span translate=no>_^_4_^_</span>\u6307\u5b9a\u5982\u4f55<span translate=no>_^_5_^_</span>\u4ece\u4e2d\u63d0\u53d6<span translate=no>_^_6_^_</span>\u3002\u53ef\u4ee5\u662f<span translate=no>_^_7_^_</span>\u6216<span translate=no>_^_8_^_</span>\u3002</li>\n<li><span translate=no>_^_9_^_</span><span translate=no>_^_10_^_</span>\u7528\u4e8e\u8ba1\u7b97<span translate=no>_^_11_^_</span>\u3002<span translate=no>_^_12_^_</span>\u4f7f\u91c7\u6837\u8fc7\u7a0b\u5177\u6709\u786e\u5b9a\u6027\u3002</li></ul>\n",
 "Annotated PyTorch implementation/tutorial of Denoising Diffusion Implicit Models (DDIM) Sampling for stable diffusion model.": "\u5e26\u6ce8\u91ca\u7684 PyTorch \u5b9e\u73b0/\u6559\u7a0b\uff0c\u7528\u4e8e\u7a33\u5b9a\u6269\u6563\u6a21\u578b\u7684\u964d\u566a\u6269\u6563\u9690\u5f0f\u6a21\u578b (DDIM) \u91c7\u6837\u3002",
 "Denoising Diffusion Implicit Models (DDIM) Sampling": "\u964d\u566a\u6269\u6563\u9690\u542b\u6a21\u578b (DDIM) \u91c7\u6837"
}